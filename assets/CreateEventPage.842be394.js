import{Q as M}from"./QPage.52a3ba39.js";import{u as Q}from"./user.a8999611.js";import{ab as k,G as S,C as a,a1 as P,_ as E,I as N,J as v,K as y,L as u,S as j,M as l,Q as g,O as V,am as U,an as n,N as h,e as z}from"./index.20ac43b0.js";import{Q as $,a as I}from"./QCard.8f58c253.js";import{u as _,Q as G,a as o}from"./use-quasar.c61a4c77.js";import"./axios.6cf50c67.js";import"./use-dark.c5a5aa1a.js";const H=k({name:"CreateEventForm",setup(){_();const e=S(),t="tw-text-base tw-text-slate-600 tw-mb-4 tw-rounded-xl",r=a(""),d=a(""),c=a(""),f=a(""),m=a(""),p=a(""),w=a(0),s=P({new_event:{}}),C=a(""),b=a("");function B(i){s.new_event=i}const x=Q(),{createUserEvent:D}=x;function T(i,F){return`${i}T${F}Z`}return{inputClasses:t,title:r,description:d,slug:c,hosts:f,venue:m,city:p,num_guests:w,new_event:s,time:C,date:b,router:e,async onSubmit(){const i=await D({title:r.value,description:d.value,slug:c.value,hosts:f.value,venue:m.value,city:p.value,num_guests:w.value,event_date:T(b.value,C.value)});console.log(i),B(i)}}}}),J={key:0,class:"created tw-py-32 tw-flex tw-flex-col tw-items-center"},K=h("h2",{class:"tw-text-lime-600 tw-text-center tw-font-light"}," Successfully created a new event. ",-1),L={class:"tw-flex tw-flex-row tw-justify-center tw-mt-2"};function O(e,t,r,d,c,f){const m=N("router-link");return v(),y(I,{class:"tw-mx-auto tw-w-75% tw-p-4 tw-pt-1 tw-rounded-xl tw-shadow-xl tw-shadow-black-200 lg:tw-shadow-none"},{default:u(()=>{var p,w;return[(p=e.new_event.new_event)!=null&&p.id?(v(),j("div",J,[K,l(m,{class:"tw-mx-auto tw-my-32",to:{name:"dashboard"}},{default:u(()=>[l(g,{class:"tw-h-10",unelevated:"",size:"md",color:"primary"},{default:u(()=>[V("Back to Dashboard")]),_:1})]),_:1})])):U("",!0),(w=e.new_event.new_event)!=null&&w.id?U("",!0):(v(),y(G,{key:1,onSubmit:e.onSubmit},{default:u(()=>[l($,{class:"tw-mt-8 tw-text-xl tw-text-slate-700 tw-justify-items-center tw-text-center lg:tw-text-2xl"},{default:u(()=>[V("Create new event")]),_:1}),l($,null,{default:u(()=>[l(o,{outlined:"",class:n(e.inputClasses),type:"text",label:"Title",name:"title",modelValue:e.title,"onUpdate:modelValue":t[0]||(t[0]=s=>e.title=s)},null,8,["class","modelValue"]),l(o,{outlined:"",class:n(e.inputClasses),type:"textarea",label:"Description",name:"desc",modelValue:e.description,"onUpdate:modelValue":t[1]||(t[1]=s=>e.description=s)},null,8,["class","modelValue"]),l(o,{outlined:"",class:n(e.inputClasses),type:"text",label:"Slug",name:"slug",modelValue:e.slug,"onUpdate:modelValue":t[2]||(t[2]=s=>e.slug=s)},null,8,["class","modelValue"]),l(o,{outlined:"",class:n(e.inputClasses),type:"text",label:"Hosts",name:"hosts",modelValue:e.hosts,"onUpdate:modelValue":t[3]||(t[3]=s=>e.hosts=s)},null,8,["class","modelValue"]),l(o,{outlined:"",class:n(e.inputClasses),type:"text",label:"Venue",name:"venue",modelValue:e.venue,"onUpdate:modelValue":t[4]||(t[4]=s=>e.venue=s)},null,8,["class","modelValue"]),l(o,{outlined:"",class:n(e.inputClasses),type:"text",label:"City",name:"city",modelValue:e.city,"onUpdate:modelValue":t[5]||(t[5]=s=>e.city=s)},null,8,["class","modelValue"]),l(o,{outlined:"",class:n(e.inputClasses),type:"number",label:"Number of guests",name:"num_guests",modelValue:e.num_guests,"onUpdate:modelValue":t[6]||(t[6]=s=>e.num_guests=s),modelModifiers:{number:!0}},null,8,["class","modelValue"]),l(o,{outlined:"",class:n(e.inputClasses),type:"time",label:"Time",name:"time",modelValue:e.time,"onUpdate:modelValue":t[7]||(t[7]=s=>e.time=s)},null,8,["class","modelValue"]),l(o,{outlined:"",class:n(e.inputClasses),type:"date",label:"Date",name:"date",modelValue:e.date,"onUpdate:modelValue":t[8]||(t[8]=s=>e.date=s)},null,8,["class","modelValue"]),h("div",L,[l(g,{unelevated:"",type:"submit",color:"primary",class:"tw-mx-auto tw-text-white tw-w-full tw-rounded-lg"},{default:u(()=>[V("Create")]),_:1})])]),_:1})]),_:1},8,["onSubmit"]))]}),_:1})}var R=E(H,[["render",O]]);const Z=k({name:"CreateEventPage",components:{CreateEventForm:R},setup(){const e=Q(),{fetchCurrentUser:t,fetchUserEvents:r}=e,d=S();return z(()=>{if(!e.access_token){d.push({path:"/login"});return}t(),r()}),{store:e}}});function q(e,t,r,d,c,f){const m=N("create-event-form");return v(),y(M,{class:"tw-w-9/12 tw-mx-auto tw-p-4 row"},{default:u(()=>[l(m)]),_:1})}var le=E(Z,[["render",q]]);export{le as default};
