import{Q as H}from"./QPage.52a3ba39.js";import{u as U}from"./user.a8999611.js";import{a as d,c as p,C as S,w as K,o as G,h as r,ac as J,d as V,ad as W,ae as X,af as Y,E as Z,ag as B,ah as ee,ai as te,g as le,s as ne,aj as ae,ak as ie,ab as E,_ as I,J as y,K as j,L as f,M as i,N as g,R as oe,Q as D,O as N,al as re,I as T,S as Q,U as se,T as ue,am as ce,G as de,e as ve}from"./index.20ac43b0.js";import{u as me,a as fe}from"./use-dark.c5a5aa1a.js";import{Q as ge,a as he}from"./QCard.8f58c253.js";import"./axios.6cf50c67.js";const _e={ratio:[String,Number]};function we(e,o){return d(()=>{const a=Number(e.ratio||(o!==void 0?o.value:void 0));return isNaN(a)!==!0&&a>0?{paddingBottom:`${100/a}%`}:null})}const be=16/9;var Se=p({name:"QImg",props:{..._e,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:be},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:o,emit:a}){const s=S(e.initialRatio),h=we(e,s);let n=null,v=!1;const c=[S(null),S(t())],u=S(0),m=S(!1),_=S(!1),q=d(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),R=d(()=>({width:e.width,height:e.height})),C=d(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),k=d(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));K(()=>x(),b);function x(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function t(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function b(l){n!==null&&(clearTimeout(n),n=null),_.value=!1,l===null?(m.value=!1,c[u.value^1].value=t()):m.value=!0,c[u.value].value=l}function A({target:l}){v!==!0&&(n!==null&&(clearTimeout(n),n=null),s.value=l.naturalHeight===0?.5:l.naturalWidth/l.naturalHeight,P(l,1))}function P(l,$){v===!0||$===1e3||(l.complete===!0?O(l):n=setTimeout(()=>{n=null,P(l,$+1)},50))}function O(l){v!==!0&&(u.value=u.value^1,c[u.value].value=null,m.value=!1,_.value=!1,a("load",l.currentSrc||l.src))}function M(l){n!==null&&(clearTimeout(n),n=null),m.value=!1,_.value=!0,c[u.value].value=null,c[u.value^1].value=t(),a("error",l)}function L(l){const $=c[l].value,z={key:"img_"+l,class:C.value,style:k.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...$};return u.value===l?(z.class+=" q-img__image--waiting",Object.assign(z,{onLoad:A,onError:M})):z.class+=" q-img__image--loaded",r("div",{class:"q-img__container absolute-full",key:"img"+l},r("img",z))}function F(){return m.value!==!0?r("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},V(o[_.value===!0?"error":"default"])):r("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},o.loading!==void 0?o.loading():e.noSpinner===!0?void 0:[r(W,{color:e.spinnerColor,size:e.spinnerSize})])}return b(x()),G(()=>{v=!0,n!==null&&(clearTimeout(n),n=null)}),()=>{const l=[];return h.value!==null&&l.push(r("div",{key:"filler",style:h.value})),_.value!==!0&&(c[0].value!==null&&l.push(L(0)),c[1].value!==null&&l.push(L(1))),l.push(r(J,{name:"q-transition--fade"},F)),r("div",{class:q.value,style:R.value,role:"img","aria-label":e.alt},l)}}});const ye={xs:8,sm:10,md:14,lg:20,xl:24};var w=p({name:"QChip",props:{...me,...X,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:o,emit:a}){const{proxy:{$q:s}}=le(),h=fe(e,s),n=Y(e,ye),v=d(()=>e.selected===!0||e.icon!==void 0),c=d(()=>e.selected===!0?e.iconSelected||s.iconSet.chip.selected:e.icon),u=d(()=>e.iconRemove||s.iconSet.chip.remove),m=d(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),_=d(()=>{const t=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(t?` text-${t} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(m.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(h.value===!0?" q-chip--dark q-dark":"")}),q=d(()=>{const t=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},b={...t,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||s.lang.label.remove};return{chip:t,remove:b}});function R(t){t.keyCode===13&&C(t)}function C(t){e.disable||(a("update:selected",!e.selected),a("click",t))}function k(t){(t.keyCode===void 0||t.keyCode===13)&&(ne(t),e.disable===!1&&(a("update:modelValue",!1),a("remove")))}function x(){const t=[];m.value===!0&&t.push(r("div",{class:"q-focus-helper"})),v.value===!0&&t.push(r(B,{class:"q-chip__icon q-chip__icon--left",name:c.value}));const b=e.label!==void 0?[r("div",{class:"ellipsis"},[e.label])]:void 0;return t.push(r("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},ee(o.default,b))),e.iconRight&&t.push(r(B,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&t.push(r(B,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:u.value,...q.value.remove,onClick:k,onKeyup:k})),t}return()=>{if(e.modelValue===!1)return;const t={class:_.value,style:n.value};return m.value===!0&&Object.assign(t,q.value.chip,{onClick:C,onKeyup:R}),Z("div",t,x(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[te,e.ripple]])}}}),qe=p({name:"QCardActions",props:{...ae,vertical:Boolean},setup(e,{slots:o}){const a=ie(e),s=d(()=>`q-card__actions ${a.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>r("div",{class:s.value},V(o.default))}});const Ce=E({name:"UserEventCard",props:{event:{type:Object,required:!0}}}),ke={class:"tw-flex tw-flex-col tw-w-full"},xe={class:"tw-flex tw-align-middle tw-w-full"},$e={class:"tw-block tw-text-2xl tw-p-4 tw-font-light"},ze={class:"tw-pl-3 tw-pb-2 tw-mt-auto tw-mb-0"};function Be(e,o,a,s,h,n){return y(),j(he,{class:"event tw-w-full tw-rounded-xl tw-my-3"},{default:f(()=>[i(ge,{horizontal:""},{default:f(()=>[i(Se,{class:"tw-w-1/6",src:"https://cdn.quasar.dev/img/mountains.jpg"}),g("div",ke,[g("div",xe,[g("h3",$e,oe(e.event.title),1)]),g("div",ze,[i(w,{outline:"",square:"",color:"red","text-color":"white",label:"City: "+e.event.city,size:"sm"},null,8,["label"]),i(w,{outline:"",square:"",color:"red","text-color":"white",label:"Venue: "+e.event.venue,size:"sm"},null,8,["label"]),i(w,{outline:"",square:"",color:"red","text-color":"white",label:"Hosts: "+e.event.hosts,size:"sm"},null,8,["label"]),i(w,{outline:"",square:"",color:"red","text-color":"white",label:"Date: "+new Date(e.event.event_date).toDateString(),size:"sm"},null,8,["label"]),i(w,{outline:"",square:"",color:"red","text-color":"white",label:"Time: "+new Date(e.event.event_date).toLocaleTimeString("en-us",{hour:"2-digit",minute:"2-digit"}),size:"sm"},null,8,["label"]),i(w,{outline:"",square:"",color:"red","text-color":"white",label:"Created: "+new Date(e.event.created).toDateString(),size:"sm"},null,8,["label"]),i(w,{outline:"",square:"",color:"red","text-color":"white",label:"Last updated: "+new Date(e.event.updated).toDateString(),size:"sm"},null,8,["label"])])]),i(qe,{class:"tw-flex tw-w-1/3 tw-justify-end tw-px-4"},{default:f(()=>[i(D,{flat:"",color:"primary"},{default:f(()=>[N("Edit")]),_:1}),i(D,{flat:"",color:"accent"},{default:f(()=>[N("Preview")]),_:1}),i(D,{flat:"",outlined:"",color:"secondary"},{default:f(()=>[N("Delete")]),_:1})]),_:1})]),_:1})]),_:1})}var De=I(Ce,[["render",Be]]);const Ne=E({name:"UserEvents",components:{UserEventCard:De},setup(){const{events:e}=re(U());return{events:e}}}),Re={class:"tw-w-full tw-mt-8"},Qe={class:"tw-flex tw-align-middle"},Te=g("h1",{class:"tw-inline-block tw-leading-normal tw-font-light"},"Events",-1),pe=g("hr",{class:"tw-my-4"},null,-1),Ee={class:"events tw-w-full"},Ie={key:0,class:"tw-text-gray-400 tw-font-light tw-w-full tw-text-center tw-my-auto tw-h-full tw-block tw-text-2xl"};function je(e,o,a,s,h,n){const v=T("router-link"),c=T("user-event-card");return y(),Q("div",Re,[g("div",Qe,[Te,i(v,{class:"tw-ml-auto tw-mr-0 tw-my-1",to:{name:"create-event"}},{default:f(()=>[i(D,{outline:"",size:"md",color:"accent"},{default:f(()=>[i(B,{class:"tw-mr-1",name:"add"}),N("New event")]),_:1})]),_:1})]),pe,g("div",Ee,[(y(!0),Q(se,null,ue(e.events,u=>(y(),j(c,{event:u,key:u.id},null,8,["event"]))),128)),e.events.length==0?(y(),Q("h2",Ie," No events to display ")):ce("",!0)])])}var Pe=I(Ne,[["render",je]]);const Le=E({name:"IndexPage",components:{UserEvents:Pe},setup(){const e=U(),{fetchCurrentUser:o,fetchUserEvents:a}=e,s=de();return ve(()=>{if(!e.access_token){s.push({path:"/login"});return}o(),a()}),{store:e}}});function Ue(e,o,a,s,h,n){const v=T("user-events");return y(),j(H,{class:"tw-w-9/12 tw-mx-auto tw-p-4 row"},{default:f(()=>[i(v)]),_:1})}var Ke=I(Le,[["render",Ue]]);export{Ke as default};
