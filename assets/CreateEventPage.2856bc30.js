import{Q as M}from"./QPage.f9102ef5.js";import{u as k}from"./user.e1c30541.js";import{ag as Q,J as S,y as a,a6 as P,_ as E,K as N,L as v,M as y,N as u,U as j,O as l,R as g,S as V,ar as U,ap as $,at as n,au as o,Q as h,aq as z,C as R}from"./index.c8a8fcf2.js";import{Q as _}from"./QForm.38d3f8b0.js";import{u as q}from"./use-quasar.79e417c6.js";import"./axios.d363f6e4.js";const H=Q({name:"CreateEventForm",setup(){q();const e=S(),t="tw-text-base tw-text-slate-600 tw-mb-4 tw-rounded-xl",r=a(""),d=a(""),c=a(""),f=a(""),m=a(""),p=a(""),w=a(0),s=P({new_event:{}}),C=a(""),b=a("");function B(i){s.new_event=i}const x=k(),{createUserEvent:D}=x;function T(i,F){return`${i}T${F}Z`}return{inputClasses:t,title:r,description:d,slug:c,hosts:f,venue:m,city:p,num_guests:w,new_event:s,time:C,date:b,router:e,async onSubmit(){const i=await D({title:r.value,description:d.value,slug:c.value,hosts:f.value,venue:m.value,city:p.value,num_guests:w.value,event_date:T(b.value,C.value)});console.log(i),B(i)}}}}),I={key:0,class:"created tw-py-32 tw-flex tw-flex-col tw-items-center"},J=h("h2",{class:"tw-text-lime-600 tw-text-center tw-font-light"}," Successfully created a new event. ",-1),K={class:"tw-flex tw-flex-row tw-justify-center tw-mt-2"};function L(e,t,r,d,c,f){const m=N("router-link");return v(),y(z,{class:"tw-mx-auto tw-w-75% tw-p-4 tw-pt-1 tw-rounded-xl tw-shadow-xl tw-shadow-black-200 lg:tw-shadow-none"},{default:u(()=>{var p,w;return[(p=e.new_event.new_event)!=null&&p.id?(v(),j("div",I,[J,l(m,{class:"tw-mx-auto tw-my-32",to:{name:"dashboard"}},{default:u(()=>[l(g,{class:"tw-h-10",unelevated:"",size:"md",color:"primary"},{default:u(()=>[V("Back to Dashboard")]),_:1})]),_:1})])):U("",!0),(w=e.new_event.new_event)!=null&&w.id?U("",!0):(v(),y(_,{key:1,onSubmit:e.onSubmit},{default:u(()=>[l($,{class:"tw-mt-8 tw-text-xl tw-text-slate-700 tw-justify-items-center tw-text-center lg:tw-text-2xl"},{default:u(()=>[V("Create new event")]),_:1}),l($,null,{default:u(()=>[l(n,{outlined:"",class:o(e.inputClasses),type:"text",label:"Title",name:"title",modelValue:e.title,"onUpdate:modelValue":t[0]||(t[0]=s=>e.title=s)},null,8,["class","modelValue"]),l(n,{outlined:"",class:o(e.inputClasses),type:"textarea",label:"Description",name:"desc",modelValue:e.description,"onUpdate:modelValue":t[1]||(t[1]=s=>e.description=s)},null,8,["class","modelValue"]),l(n,{outlined:"",class:o(e.inputClasses),type:"text",label:"Slug",name:"slug",modelValue:e.slug,"onUpdate:modelValue":t[2]||(t[2]=s=>e.slug=s)},null,8,["class","modelValue"]),l(n,{outlined:"",class:o(e.inputClasses),type:"text",label:"Hosts",name:"hosts",modelValue:e.hosts,"onUpdate:modelValue":t[3]||(t[3]=s=>e.hosts=s)},null,8,["class","modelValue"]),l(n,{outlined:"",class:o(e.inputClasses),type:"text",label:"Venue",name:"venue",modelValue:e.venue,"onUpdate:modelValue":t[4]||(t[4]=s=>e.venue=s)},null,8,["class","modelValue"]),l(n,{outlined:"",class:o(e.inputClasses),type:"text",label:"City",name:"city",modelValue:e.city,"onUpdate:modelValue":t[5]||(t[5]=s=>e.city=s)},null,8,["class","modelValue"]),l(n,{outlined:"",class:o(e.inputClasses),type:"number",label:"Number of guests",name:"num_guests",modelValue:e.num_guests,"onUpdate:modelValue":t[6]||(t[6]=s=>e.num_guests=s),modelModifiers:{number:!0}},null,8,["class","modelValue"]),l(n,{outlined:"",class:o(e.inputClasses),type:"time",label:"Time",name:"time",modelValue:e.time,"onUpdate:modelValue":t[7]||(t[7]=s=>e.time=s)},null,8,["class","modelValue"]),l(n,{outlined:"",class:o(e.inputClasses),type:"date",label:"Date",name:"date",modelValue:e.date,"onUpdate:modelValue":t[8]||(t[8]=s=>e.date=s)},null,8,["class","modelValue"]),h("div",K,[l(g,{unelevated:"",type:"submit",color:"primary",class:"tw-mx-auto tw-text-white tw-w-full tw-rounded-lg"},{default:u(()=>[V("Create")]),_:1})])]),_:1})]),_:1},8,["onSubmit"]))]}),_:1})}var O=E(H,[["render",L]]);const Z=Q({name:"CreateEventPage",components:{CreateEventForm:O},setup(){const e=k(),{fetchCurrentUser:t,fetchUserEvents:r}=e,d=S();return R(()=>{if(!e.access_token){d.push({path:"/login"});return}t(),r()}),{store:e}}});function A(e,t,r,d,c,f){const m=N("create-event-form");return v(),y(M,{class:"tw-w-9/12 tw-mx-auto tw-p-4 row"},{default:u(()=>[l(m)]),_:1})}var se=E(Z,[["render",A]]);export{se as default};
